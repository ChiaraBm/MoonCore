A source generated plugin hook system