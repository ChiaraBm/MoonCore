@using MoonCore.Blazor.FlyonUi.Forms
@using MoonCore.Exceptions

<InputItem TItem="DemoItem"
           @bind-Value="SelectedItem"
           DisplayField="@(x => x.Name)"
           ItemSource="GetItemsFailingAsync" />

@code
{
    private DemoItem? SelectedItem = null;
    
    private async Task<DemoItem[]> GetItemsFailingAsync()
    {
        await Task.Delay(TimeSpan.FromSeconds(2));

        throw new HttpApiException("Whoops i failed", 500);
    }
    
    record DemoItem
    {
        public int Id { get; set; }
        public string Name { get; set; }
    }
}