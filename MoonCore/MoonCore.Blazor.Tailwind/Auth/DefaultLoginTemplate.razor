@using MoonCore.Blazor.Tailwind.Auth
@using MoonCore.Blazor.Tailwind.States
@using MoonCore.Blazor.Tailwind.Components

@inject AuthenticationStateManager AuthStateManager

<div class="flex h-screen justify-center items-center">
    <div class="sm:max-w-lg">
        <IconAlert Title="Logging you in"
                   Color="text-primary"
                   Icon="icon-fingerprint">
            Trying to log you in using the identity provider
        </IconAlert>
    </div>
</div>

@code
{
    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if(!firstRender)
            return;
        
        await AuthStateManager.HandleLogin();
    }
}
