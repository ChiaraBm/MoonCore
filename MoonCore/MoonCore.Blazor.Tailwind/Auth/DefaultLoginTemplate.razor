@using MoonCore.Blazor.Tailwind.Auth
@using MoonCore.Blazor.Tailwind.States

@inject AuthenticationStateManager AuthStateManager

<div class="m-10">
    <StateDisplay Type="StateType.Custom"
                  Icon="icon-fingerprint"
                  IconColor="text-tertiary-500"
                  Title="Logging you in"
                  Description="Trying to log you in using the identity provider"/>
</div>

@code
{
    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if(!firstRender)
            return;
        
        await AuthStateManager.HandleLogin();
    }
}
