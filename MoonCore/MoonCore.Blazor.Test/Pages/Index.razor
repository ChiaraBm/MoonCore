@page "/"
@using MoonCore.Blazor.Services

@inject AlertService AlertService
@inject ToastService ToastService

<PageTitle>Index</PageTitle>

<h1>Hello, world!</h1>

Welcome to your new app.

<SurveyPrompt Title="How is Blazor working for you?"/>

<LazyLoader Load="Load">
    <h3>I am loaded</h3>
</LazyLoader>

<LazyLoader Load="Load2">
    <h3>I am loaded 2</h3>
</LazyLoader>

<LazyLoader Load="Load3">
    <h3>I am loaded 3</h3>
</LazyLoader>

<button @onclick="Testy" class="btn btn-primary">Test 1</button>
<button @onclick="Testy2" class="btn btn-primary">Test 2</button>
<button @onclick="Testy3" class="btn btn-primary">Test 3</button>
<button @onclick="Testy4" class="btn btn-primary">Test 4</button>

<button @onclick="Toast1" class="btn btn-success">Toast 1</button>
<button @onclick="Toast2" class="btn btn-success">Toast 2</button>
<button @onclick="Toast3" class="btn btn-success">Toast 3</button>
<button @onclick="Toast4" class="btn btn-success">Toast 4</button>


@code
{
    private async Task Load(LazyLoader lazyLoader)
    {
        await Task.Delay(500);
    }

    private async Task Load2(LazyLoader arg)
    {
        await Task.Delay(3000);
    }

    private async Task Load3(LazyLoader lazyLoader)
    {
        await Task.Delay(3000);

        await lazyLoader.SetText("Doing a thing");
        
        await Task.Delay(3000);
        
        await lazyLoader.SetText("Doing another thing");
        
        await Task.Delay(3000);
    }

    private async Task Testy()
    {
        await AlertService.Success("Task failed");
    }
    
    private async Task Testy2()
    {
        await AlertService.Info("Task failed");
    }
    
    private async Task Testy3()
    {
        await AlertService.Warning("Task failed");
    }
    
    private async Task Testy4()
    {
        await AlertService.Danger("Task failed");
    }
    
    private async Task Toast1()
    {
        await ToastService.Success("uwu owo ara rawr~");
    }
    
    private async Task Toast2()
    {
        await ToastService.Info("uwu owo ara rawr~");
    }
    
    private async Task Toast3()
    {
        await ToastService.Warning("uwu owo ara rawr~");
    }
    
    private async Task Toast4()
    {
        await ToastService.Danger("uwu owo ara rawr~");
    }
}
